---
title: (PlayFab) Google Play Game ë¡œê·¸ì¸
author: LHH
date: 2024-01-15 12:00 GMT+0900
categories: [Study, PlayFab]
tags: [PlayFab, BaaS, Google ê³„ì • ì—°ë™]
---

PlayFabê³¼ GPGS(Google Play Game Serivce) ì—°ê²° ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

### ğŸ“š ê¸°ë³¸ ì¤€ë¹„ë¬¼
- ìœ ë‹ˆí‹°ì™€ `PlayFab`ì´ ì—°ê²°ëœ ìƒíƒœ

    - [ë¹ ë¥¸ ì‹œì‘: Unityì—ì„œ C#ìš© PlayFab í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬](https://learn.microsoft.com/ko-kr/gaming/playfab/sdks/unity3d/quickstart)

- ìœ ë‹ˆí‹°ì™€ `Google Play Game Service`ê°€ ì—°ê²°ëœ ìƒíƒœ

    - ![](https://github.com/LHuHyeon/LHuHyeon.github.io/assets/110723307/04000762-d751-44d3-a232-6503c99c03c1)


<br>

## PlayFabì— Google ì½˜í…ì¸  ì¶”ê°€
1. [PlayFab](https://developer.playfab.com/ko-kr/login)ì— ì ‘ì†í•©ë‹ˆë‹¤.

2. ë¹Œë“œì˜ `ì¶”ê°€ ì½˜í…ì¸ ` -> `Google` ìˆœì„œë¡œ ì ‘ì†í•©ë‹ˆë‹¤.

3. Googleê³¼ ì—°ê²°í•˜ë ¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì •ë³´ê°€ í•„ìš”í•©ë‹ˆë‹¤.

    - Google ì•± íŒ¨í‚¤ì§€ ID

    - Google ì•± ë¼ì´ì„ ìŠ¤ í‚¤

    - Google OAuth í´ë¼ì´ì–¸íŠ¸ ID

    - Google OAuth í´ë¼ì´ì–¸íŠ¸ ì•”í˜¸

    - ì„œë¹„ìŠ¤ ê³„ì • í‚¤ *(ì„ íƒ)*

ì°¨ë¡€ëŒ€ë¡œ ì•Œì•„ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

### Google ì•± íŒ¨í‚¤ì§€ ID
1. [Google Play Console](https://play.google.com/console/u/0/developers)ì— ì ‘ì†í•©ë‹ˆë‹¤.

2. `í™ˆ í™”ë©´`ì—ì„œ ìì‹ ì´ ê°œë°œ ì¤‘ì¸ ì•± ì´ë¦„ ì•„ë˜ì˜ IDë¥¼ ë³µì‚¬í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

![](https://github.com/LHuHyeon/LHuHyeon.github.io/assets/110723307/79721bf7-f94b-44a4-a738-fee9f2f3f99b)

<br>

### Google ì•± ë¼ì´ì„ ìŠ¤ í‚¤
ì´ í•„ë“œëŠ” ì˜ìˆ˜ì¦ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ ìœ„í•œ í•„ë“œì…ë‹ˆë‹¤. ë¡œê·¸ì¸ê³¼ëŠ” ê´€ë ¨ ì—†ì§€ë§Œ í•„ìš”í•˜ë©´ ë„£ë„ë¡ í•©ì‹œë‹¤.

1. [Google Play Console](https://play.google.com/console/u/0/developers)ì— ì ‘ì†í•©ë‹ˆë‹¤.

2. ìì‹ ì˜ `ì•±`ì— ì ‘ì†í•©ë‹ˆë‹¤.

3. ë©”ë‰´ì˜ `ìˆ˜ìµ ì°½ì¶œ ì„¤ì •`ì„ í´ë¦­í•©ë‹ˆë‹¤.

4. `ë¼ì´ì„ ìŠ¤`ë¥¼ ì°¾ìœ¼ì‹œê³  ë³µì‚¬í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

<br>

### Google OAuth í´ë¼ì´ì–¸íŠ¸ ID
1. [Google Cloud Console](https://console.cloud.google.com/apis)ì— ì ‘ì†í•©ë‹ˆë‹¤.

2. `ì‚¬ìš©ì ì¸ì¦ ì •ë³´` í´ë¦­

3. ìœ ë‹ˆí‹°ì— ì—°ê²°í•  ë•Œ ì‚¬ìš©í–ˆë˜ `í´ë¼ì´ì–¸íŠ¸ ID`ë¥¼ ë³µì‚¬í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

<br>

### Google OAuth í´ë¼ì´ì–¸íŠ¸ ì•”í˜¸
1. [Google Cloud Console](https://console.cloud.google.com/apis)ì— ì ‘ì†í•©ë‹ˆë‹¤.

2. `ì‚¬ìš©ì ì¸ì¦ ì •ë³´` í´ë¦­

3. ìœ ë‹ˆí‹°ì— ì—°ê²°í•  ë•Œ ì‚¬ìš©í–ˆë˜ `í´ë¼ì´ì–¸íŠ¸ ID` í´ë¦­

4. `í´ë¼ì´ì–¸íŠ¸ ë³´ì•ˆ ë¹„ë°€ë²ˆí˜¸`ë¥¼ ë³µì‚¬í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

<br>

ì—¬ê¸°ê¹Œì§€ ì˜ ë”°ë¼ì˜¤ì…¨ìœ¼ë©´ `ì„¤ì • ì €ì¥`ì„ ëˆ„ë¥´ì‹œë©´ ë©ë‹ˆë‹¤.

### Unity ì½”ë“œ í…ŒìŠ¤íŠ¸
`Unity`ì—ì„œ Google ë¡œê·¸ì¸ í›„ Google ì¸ì¦ ì½”ë“œë¥¼ ê°€ì§€ê³  PlayFabì— ë¡œê·¸ì¸í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```cs
using System;
using GooglePlayGames;
using GooglePlayGames.BasicApi;
using PlayFab;
using PlayFab.ClientModels;
using UnityEngine;

public class TestLogin : MonoBehaviour
{
    public void Start()
    {
        GoogleLogin();
    }

    // PlayFab Google Login
    private void GoogleLogin()
    {
        // êµ¬ê¸€ ì´ˆê¸°í™”
        GoogleInit();

        // êµ¬ê¸€ ì—°ë™ ì§„í–‰
        Social.localUser.Authenticate((bool success) =>
        {
            if (!success)
            {
                Debug.Log("Google Play ì¸ì¦ ì‹¤íŒ¨!");
                return;
            }

            // êµ¬ê¸€ ì„œë²„ ì¸ì¦ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
            string serverAuthCode = PlayGamesPlatform.Instance.GetServerAuthCode();

            // PlayFab ë³´ë‚¼ ë©”ì‹œì§€ ë§Œë“¤ê¸°
            var request = new LoginWithGoogleAccountRequest()
            {
                TitleId = PlayFabSettings.TitleId,
                ServerAuthCode = serverAuthCode,    // êµ¬ê¸€ ì„œë²„ ì¸ì¦ ì½”ë“œ
                CreateAccount = true                // í•´ë‹¹ ê²Œì •ì´ ì—†ì„ ë•Œ PlayFab ê³„ì •ì„ ìë™ ìƒì„±í• ì§€ ì—¬ë¶€
            };

            // PlayFab ë¡œê·¸ì¸ ìš”ì²­ ë³´ë‚´ê¸°
            PlayFabClientAPI.LoginWithGoogleAccount(request, OnLoginSuccess, OnLoginFailed);
        });
    }

    // Google Play ì´ˆê¸°í™”
    private void GoogleInit()
    {
        // êµ¬ê¸€(GPGS) ì´ˆê¸°í™” ì„¤ì •
        PlayGamesClientConfiguration config = new PlayGamesClientConfiguration.Builder()
        .AddOauthScope("profile")
        .RequestServerAuthCode(false)
        .Build();
        PlayGamesPlatform.InitializeInstance(config);

        // ë¡œê·¸ í™œì„±í™”/ë¹„í™œì„±í™”
        PlayGamesPlatform.DebugLogEnabled = true;
        PlayGamesPlatform.Activate();
    }

    // PlayFab ë¡œê·¸ì¸ ì„±ê³µ ì‹œ í˜¸ì¶œ
    private void OnLoginSuccess(LoginResult result)
    {
        Debug.Log("PlayFab ë¡œê·¸ì¸ ì„±ê³µ!");
        Debug.Log("PlayFab Id : " + result.PlayFabId);
    }

    // PlayFab ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ í˜¸ì¶œ
    private void OnLoginFailed(PlayFabError error)
    {
        Debug.Log("PlayFab ë¡œê·¸ì¸ ì‹¤íŒ¨!");
        Debug.Log("PlayFab Error : " + error.ErrorMessage);
    }
}
```

## ğŸ’¡ ì°¸ê³ 
- [[Microsoft] Unityì—ì„œ Google Play ê²Œì„ ë¡œê·¸ì¸ì„ ì‚¬ìš©í•œ PlayFab ì¸ì¦ ì„¤ì •](https://learn.microsoft.com/ko-kr/gaming/playfab/features/authentication/platform-specific-authentication/google-sign-in-unity#prerequisites)